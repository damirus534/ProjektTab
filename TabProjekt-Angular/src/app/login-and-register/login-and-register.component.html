<div class="save-anon-cart-info" *ngIf="isSavingAnonCart">
  <mat-label>
    Logowanie lub rejestracja przez obecny adres URL spowoduje przypisanie zawartości koszyka do danego konta. Jeśli nie chcesz wykonywać tej akcji, kliknij
    <a href="http://localhost:4200/login"> tutaj.</a>
  </mat-label>
</div>
<mat-grid-list cols="9" [rowHeight]="rowHeight">
  <mat-grid-tile colspan="2"></mat-grid-tile>
  <mat-grid-tile colspan="2">
    <mat-card class="material-card">
      <mat-card-title>Logowanie</mat-card-title>
      <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
          <p [class.error-outline]="loginEmail && loginEmail.invalid && loginEmail.touched">
            <mat-form-field class="input-form">
              <input type="text" id="loginEmail" matInput placeholder="E-mail" formControlName="loginEmail">
            </mat-form-field>
            <span class="validation-error" *ngIf="loginEmail && loginEmail.touched && loginEmail.value === ''">
              E-mail nie może być pusty
            </span>
            <span class="validation-error" *ngIf="loginEmail && loginEmail.touched && loginEmail.hasError('pattern')">
              Niepoprawny e-mail - użyj wzoru: example@email.com
            </span>
            <span class="validation-error" *ngIf="loginEmail && loginEmail.touched && loginEmail.hasError('maxlength') && !loginEmail.hasError('pattern')">
              E-mail jest zbyt długi. Maksymalna ilość znaków: 50
            </span>
          </p>
          
          <p [class.error-outline]="loginPassword && loginPassword.invalid && loginPassword.touched">
            <mat-form-field class="input-form">
              <input type="password" id="loginPassword" matInput placeholder="Hasło" formControlName="loginPassword">
            </mat-form-field>
            <span class="validation-error" *ngIf="loginPassword && loginPassword.invalid && loginPassword.touched && loginPassword.value===''">Hasło nie może być puste</span>
          </p>
          
          <div class="button">
            <button type="submit" [disabled]="loginForm.invalid" mat-raised-button color="primary">Zaloguj</button>
          </div>
        </form>
      </mat-card-content>
      <mat-card class="failure-info" *ngIf="badCredentials">
        Błędny email lub hasło
      </mat-card>
    </mat-card>
  </mat-grid-tile>
  <mat-grid-tile colspan="1">
    <mat-divider vertical class="material-divider"></mat-divider>
  </mat-grid-tile>
  <mat-grid-tile colspan="2">
    <mat-card class="material-card">
      <mat-card-title>Rejestracja</mat-card-title>
      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
          <p [class.error-outline]="registerEmail && registerEmail.invalid && registerEmail.touched">
            <mat-form-field class="input-form">
              <input type="text" matInput placeholder="E-mail" formControlName="registerEmail" required>
            </mat-form-field>
            <span class="validation-error" *ngIf="registerEmail && registerEmail.touched && registerEmail.value === ''">
              E-mail nie może być pusty
            </span>
            <span class="validation-error" *ngIf="registerEmail && registerEmail.touched && registerEmail.hasError('pattern')">
              Niepoprawny e-mail - użyj wzoru: example@email.com
            </span>
            <span class="validation-error" *ngIf="registerEmail && registerEmail.touched && registerEmail.hasError('maxlength') && !registerEmail.hasError('pattern')">
              E-mail jest zbyt długi. Maksymalna ilość znaków: 50
            </span>
          </p>
          
          <p [class.error-outline]="registerPassword && registerPassword.invalid && registerPassword.touched">
            <mat-form-field class="input-form">
              <input type="password" matInput placeholder="Hasło" formControlName="registerPassword" required>
            </mat-form-field>
            <span class="validation-error" *ngIf="registerPassword && registerPassword.invalid && registerPassword.touched && registerPassword.value === ''">
              Hasło nie może być puste
            </span>
          </p>

          <p [class.error-outline]="registerAddress && registerAddress.invalid && registerAddress.touched">
            <mat-form-field class="input-form">
              <input type="text" matInput placeholder="Adres" formControlName="registerAddress" required>
            </mat-form-field>
            <span class="validation-error" *ngIf="registerAddress && registerAddress.invalid && registerAddress.touched && registerAddress.value === ''">
              Adres nie może być pusty
            </span>
          </p>
          
          <div class="button">
            <button [disabled]="registerForm.invalid" type="submit" mat-raised-button color="primary">
              Zarejestruj
            </button>
          </div>
        </form>
      </mat-card-content>
      <mat-card class="failure-info" *ngIf="userAlreadyExists">
        Taki użytkownik już istnieje
      </mat-card>
      <mat-card class="success-info" *ngIf="accountCreated">
        Konto zostało założone
      </mat-card>
    </mat-card>
  </mat-grid-tile>
  <mat-grid-tile colspan="2"></mat-grid-tile>
</mat-grid-list>

